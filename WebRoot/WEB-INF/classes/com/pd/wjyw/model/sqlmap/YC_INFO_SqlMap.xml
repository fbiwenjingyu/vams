<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="YC_INFO">
  <resultMap class="com.pd.wjyw.model.YcInfo" id="abatorgenerated_YcInfoResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    <result column="ID" jdbcType="VARCHAR" property="id" />
    <result column="XTDABH" jdbcType="VARCHAR" property="xtdabh" />
    <result column="YWLX" jdbcType="VARCHAR" property="ywlx" />
    <result column="HPHM" jdbcType="VARCHAR" property="hphm" />
    <result column="HPZL" jdbcType="VARCHAR" property="hpzl" />
    <result column="CJR" jdbcType="VARCHAR" property="cjr" />
    <result column="CJRMC" jdbcType="VARCHAR" property="cjrmc" />
    <result column="CJSJ" jdbcType="TIMESTAMP" property="cjsj" />
    <result column="XZQH" jdbcType="VARCHAR" property="xzqh" />
    <result column="BZ" jdbcType="VARCHAR" property="bz" />
    <result column="STATUS" jdbcType="VARCHAR" property="status" />
    <result column="SHR" jdbcType="VARCHAR" property="shr" />
    <result column="SHRMC" jdbcType="VARCHAR" property="shrmc" />
    <result column="SHSJ" jdbcType="TIMESTAMP" property="shsj" />
    <result column="SHJG" jdbcType="VARCHAR" property="shjg" />
    <result column="LSH" jdbcType="VARCHAR" property="lsh" />
    <result column="SFWJ" jdbcType="VARCHAR" property="sfwj" />
    <result column="DEPTCODE" jdbcType="VARCHAR" property="deptcode" />
  </resultMap>
  <sql id="abatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="abatorgenerated_selectByPrimaryKey" parameterClass="com.pd.wjyw.model.YcInfo" resultMap="abatorgenerated_YcInfoResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    select ID, XTDABH, YWLX, HPHM, HPZL, CJR, CJRMC, CJSJ, XZQH, BZ, STATUS, SHR, SHRMC, SHSJ, SHJG,
      LSH, SFWJ, DEPTCODE
    from YC_INFO
    where ID = #id:VARCHAR#
  </select>
  <select id="abatorgenerated_selectByExample" parameterClass="com.pd.wjyw.model.YcInfoExample" resultMap="abatorgenerated_YcInfoResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    select ID, XTDABH, YWLX, HPHM, HPZL, CJR, CJRMC, CJSJ, XZQH, BZ, STATUS, SHR, SHRMC, SHSJ, SHJG,
      LSH, SFWJ, DEPTCODE
    from YC_INFO
    <isParameterPresent>
      <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.pd.wjyw.model.YcInfo">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    delete from YC_INFO
    where ID = #id:VARCHAR#
  </delete>
  <delete id="abatorgenerated_deleteByExample" parameterClass="com.pd.wjyw.model.YcInfoExample">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    delete from YC_INFO
    <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="com.pd.wjyw.model.YcInfo">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    insert into YC_INFO (ID, XTDABH, YWLX, HPHM, HPZL, CJR, CJRMC, CJSJ, XZQH, BZ, STATUS, SHR,
      SHRMC, SHSJ, SHJG, LSH, SFWJ, DEPTCODE)
    values (#id:VARCHAR#, #xtdabh:VARCHAR#, #ywlx:VARCHAR#, #hphm:VARCHAR#, #hpzl:VARCHAR#,
      #cjr:VARCHAR#, #cjrmc:VARCHAR#, #cjsj:TIMESTAMP#, #xzqh:VARCHAR#, #bz:VARCHAR#, #status:VARCHAR#,
      #shr:VARCHAR#, #shrmc:VARCHAR#, #shsj:TIMESTAMP#, #shjg:VARCHAR#, #lsh:VARCHAR#, #sfwj:VARCHAR#,
      #deptcode:VARCHAR#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.pd.wjyw.model.YcInfo">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    update YC_INFO
    set XTDABH = #xtdabh:VARCHAR#,
      YWLX = #ywlx:VARCHAR#,
      HPHM = #hphm:VARCHAR#,
      HPZL = #hpzl:VARCHAR#,
      CJR = #cjr:VARCHAR#,
      CJRMC = #cjrmc:VARCHAR#,
      CJSJ = #cjsj:TIMESTAMP#,
      XZQH = #xzqh:VARCHAR#,
      BZ = #bz:VARCHAR#,
      STATUS = #status:VARCHAR#,
      SHR = #shr:VARCHAR#,
      SHRMC = #shrmc:VARCHAR#,
      SHSJ = #shsj:TIMESTAMP#,
      SHJG = #shjg:VARCHAR#,
      LSH = #lsh:VARCHAR#,
      SFWJ = #sfwj:VARCHAR#,
      DEPTCODE = #deptcode:VARCHAR#
    where ID = #id:VARCHAR#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.pd.wjyw.model.YcInfo">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    update YC_INFO
    <dynamic prepend="set">
      <isNotNull prepend="," property="xtdabh">
        XTDABH = #xtdabh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ywlx">
        YWLX = #ywlx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="hphm">
        HPHM = #hphm:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="hpzl">
        HPZL = #hpzl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cjr">
        CJR = #cjr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cjrmc">
        CJRMC = #cjrmc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cjsj">
        CJSJ = #cjsj:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="xzqh">
        XZQH = #xzqh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bz">
        BZ = #bz:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status">
        STATUS = #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shr">
        SHR = #shr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shrmc">
        SHRMC = #shrmc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shsj">
        SHSJ = #shsj:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="shjg">
        SHJG = #shjg:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="lsh">
        LSH = #lsh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sfwj">
        SFWJ = #sfwj:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="deptcode">
        DEPTCODE = #deptcode:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:VARCHAR#
  </update>
  <select id="abatorgenerated_countByExample" parameterClass="com.pd.wjyw.model.YcInfoExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    select count(*) from YC_INFO
    <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
  </select>
  <update id="abatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    update YC_INFO
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.id">
        ID = #record.id:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.xtdabh">
        XTDABH = #record.xtdabh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.ywlx">
        YWLX = #record.ywlx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.hphm">
        HPHM = #record.hphm:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.hpzl">
        HPZL = #record.hpzl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.cjr">
        CJR = #record.cjr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.cjrmc">
        CJRMC = #record.cjrmc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.cjsj">
        CJSJ = #record.cjsj:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.xzqh">
        XZQH = #record.xzqh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.bz">
        BZ = #record.bz:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.status">
        STATUS = #record.status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.shr">
        SHR = #record.shr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.shrmc">
        SHRMC = #record.shrmc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.shsj">
        SHSJ = #record.shsj:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="record.shjg">
        SHJG = #record.shjg:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.lsh">
        LSH = #record.lsh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sfwj">
        SFWJ = #record.sfwj:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.deptcode">
        DEPTCODE = #record.deptcode:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent>
      <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="abatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Aug 05 11:38:16 CST 2014.
    -->
    update YC_INFO
    set ID = #record.id:VARCHAR#,
      XTDABH = #record.xtdabh:VARCHAR#,
      YWLX = #record.ywlx:VARCHAR#,
      HPHM = #record.hphm:VARCHAR#,
      HPZL = #record.hpzl:VARCHAR#,
      CJR = #record.cjr:VARCHAR#,
      CJRMC = #record.cjrmc:VARCHAR#,
      CJSJ = #record.cjsj:TIMESTAMP#,
      XZQH = #record.xzqh:VARCHAR#,
      BZ = #record.bz:VARCHAR#,
      STATUS = #record.status:VARCHAR#,
      SHR = #record.shr:VARCHAR#,
      SHRMC = #record.shrmc:VARCHAR#,
      SHSJ = #record.shsj:TIMESTAMP#,
      SHJG = #record.shjg:VARCHAR#,
      LSH = #record.lsh:VARCHAR#,
      SFWJ = #record.sfwj:VARCHAR#,
      DEPTCODE = #record.deptcode:VARCHAR#
    <isParameterPresent>
      <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  
 <select id="abatorgenerated_selectByExampleToPage" parameterClass="com.pd.wjyw.model.YcInfoExample" resultMap="abatorgenerated_YcInfoResult">
    select * from (select t.*, ROWNUM as row_num from (
    select ID, XTDABH, YWLX, HPHM, HPZL, CJR, CJRMC, CJSJ, XZQH, BZ, STATUS, SHR, SHRMC, SHSJ, SHJG,
      LSH, SFWJ, DEPTCODE
    from YC_INFO
    <isParameterPresent>
      <include refid="YC_INFO.abatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
     )t where ROWNUM &lt;= #limit#) where row_num &gt;= #start#
  </select>
  
   <select id="getMaxXh" parameterClass="java.lang.String" resultClass="java.util.HashMap">
    select  max(to_number(substr(xtdabh, 2, length(xtdabh))))  as XTDABH from YC_INFO t where t.XTDABH like '%'||#code#||'%'
  </select>
  
   <select id="getXtdabhSeq" resultClass="java.lang.String">
    	select XTDABH_SEQ.Nextval from dual
   </select>
	<!--
		根据部门查询统计
	-->
  <select id="getYcInfoCount" parameterClass="java.util.Map" resultClass="com.pd.wjyw.model.YcInfoSuper">
    <![CDATA[ 
    select count(*) as num,deptcode from yc_info where  shjg ='Y' and sfwj='Y'
    ]]>
    <dynamic prepend="AND">
      <isNotEmpty prepend="AND" property="sdate">
         <![CDATA[(CJSJ >= to_date(#sdate#,'yyyy-mm-dd'))]]>
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="edate">
         <![CDATA[(CJSJ <= to_date(#edate#,'yyyy-mm-dd'))]]>
      </isNotEmpty>
    </dynamic>
    <![CDATA[ group by deptcode ]]>
  </select>

  <select id="getYcInfoWeekCount" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    <![CDATA[ 
    select count(id) as num from yc_info where   sfwj='Y' and cjr is not null
    ]]>
    <dynamic prepend="AND">
      <isNotEmpty prepend="AND" property="sdate">
         <![CDATA[(CJSJ = to_date(#sdate#,'yyyy-mm-dd'))]]>
      </isNotEmpty>
    </dynamic>
  </select>
</sqlMap>